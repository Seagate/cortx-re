- name: Configure hostname
  shell: cortx_setup node prepare network --hostname $(hostname -f) --search_domains {{ SEARCH_DOMAIN1 }} {{ SEARCH_DOMAIN2 }} --dns_servers {{ DNS_SERVER1 }} {{ DNS_SERVER2 }} 
 
- name: Node1 Static Config
  shell: cortx_setup node prepare network --type {{item}} --ip_address {{ IP_ADD_NODE1 }} --netmask {{ NETMASK_NODE1 }} --gateway {{ GATEWAY_NODE1 }}
  delegate_to: "srvnode-1" 
  loop: 
    - management
    - data
    - private
  
- name: Node2 Static Config
  shell: cortx_setup node prepare network --type {{item}} --ip_address {{ IP_ADD_NODE2 }} --netmask {{ NETMASK_NODE2 }} --gateway {{ GATEWAY_NODE2 }}
  delegate_to: "srvnode-2"
  loop: 
    - management
    - data
    - private

- name: Node2 Static Config
  shell: cortx_setup node prepare network --type {{item}} --ip_address {{ IP_ADD_NODE3 }} --netmask {{ NETMASK_NODE3 }} --gateway {{ GATEWAY_NODE3 }}
  delegate_to: "srvnode-3"
  loop: 
    - management
    - data
    - private
   
  
 

  
